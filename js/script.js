/*                 boxing
****************************************************/

var boxing = [
   {contour:[
      {x:[89,92,95,98,101,104,101,89,65,68,80,68,65,65,86,86,77,80,74,77,74,74,77,62,68,56,62,50,47,47,47,50,56,50,53,56,50,47,47,44,44,44,41,50,62,53,62,86,95,59,56,53,56,53,74,71,68,71,74,77,80,80,83,86,89,101,104,101,98,98]},
      {y:[50,50,53,53,56,62,80,83,86,83,83,80,77,74,71,53,53,56,56,59,62,68,71,59,62,65,68,71,74,77,68,65,62,53,56,59,59,56,62,59,65,71,62,80,80,83,89,89,89,92,95,101,110,113,104,104,92,89,95,89,95,107,110,113,116,110,101,92,92,98]},
      {w:[3,3,3,3,3,3,3,12,33,3,3,21,21,24,3,3,9,3,3,3,3,3,3,12,3,18,9,24,12,3,9,3,6,9,6,3,3,3,3,3,3,3,3,3,3,9,6,3,3,3,3,3,3,21,3,3,3,3,3,3,3,3,3,21,15,6,3,3,3,3]},
      {h:[24,18,9,12,12,36,6,3,3,3,3,3,3,3,3,6,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9,3,3,3,3,3,3,3,6,9,3,6,12,3,3,9,6,21,3,6,6,3,3,3,9,12,3,3]}
      ]},
   {clothes:[
      {x:[50,47,44,47,71,74,77,80,83,86,83,98,68,74,56,59,62,68,71,71,74,80,80,83,86,89,95,98,98,101]},
      {y:[56,59,62,71,68,65,62,59,56,59,83,86,89,89,101,95,92,95,98,107,101,89,98,89,92,89,92,95,101,104]},
      {w:[3,3,3,3,3,3,3,3,3,3,6,6,3,3,3,3,6,3,3,3,3,3,3,3,3,6,3,3,3,3]},
      {h:[3,3,3,3,3,3,9,15,18,12,3,6,3,6,9,18,21,18,6,6,3,6,9,21,21,24,21,3,12,6]}
      ]},
   {skin:[
      {x:[59,59,59,59,62,77,74,71,74,53,50,47,44,56,59,50,53,86,89,92,95,98,101,71]},
      {y:[50,53,56,59,62,56,59,62,71,59,62,65,68,68,74,77,80,77,74,68,62,65,68,83]},
      {w:[30,18,15,3,6,3,3,3,3,3,3,3,3,6,6,15,9,3,3,3,3,3,3,9]},
      {h:[3,3,3,3,3,3,3,3,3,9,3,3,3,3,3,3,3,3,9,15,21,18,12,3]}
   ]}
]




/*                 NORMAL
****************************************************/

var normal = [
   {contour:[
      {x:[92,86,83,80,80,56,56,62,95,98,53,62,65,68,56,59,53,56,80,83,83,74,77,74,71,68,83,80,68,89,98,86,92,101,62,59,95,98,74,68,59,68,92,56]},
      {y:[50,53,56,59,62,59,62,59,56,59,65,65,68,68,74,86,98,104,68,74,77,80,83,86,89,92,92,95,95,95,95,98,101,89,95,101,104,107,107,113,116,116,116,119]},
      {w:[3,9,3,3,3,3,6,12,3,3,3,21,3,3,3,3,3,3,3,9,3,6,3,15,21,12,12,6,3,6,3,15,3,3,3,3,3,3,9,3,6,15,3,39]},
      {h:[3,3,3,3,3,3,3,3,3,6,9,3,45,3,21,3,6,12,15,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9,9,3,12,3,3,3,3,3,3,3]}
      ]},
   {clothes:[
      {x:[86,83,86,89,92,95,98,101,80,83,86,89,56,59,59,56,62,68,71,74,77,74,80,86,95,98,59,62,65,71,68,68,68,68,83,68,71,83]},
      {y:[56,59,59,59,59,59,65,74,83,80,77,77,65,65,89,95,68,71,68,68,68,83,92,95,101,101,104,104,113,95,98,101,104,107,107,110,113,116]},
      {w:[9,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9,18,24,27,6,12,27,24,9]},
      {h:[3,15,15,15,33,39,30,15,3,6,9,12,9,21,12,9,27,21,21,12,12,3,3,3,3,6,12,12,6,3,3,3,3,3,3,3,3,3]}
      ]},
   {skin:[
      {x:[59,59,59,59,74,62]},
      {y:[50,53,56,59,59,62]},
      {w:[33,27,24,3,6,18]},
      {h:[3,3,3,3,3,3]}
   ]}
]

/*                 KUNG-FU
****************************************************/

var kungFu = [
   {contour:[
      {x:[47,53,50,47,44,50,62,68,71,74,77,80,83,83,86,89,95,98,101,101,95,44,47,50,50,53,56,53,59,50,56,62,62,65,65,68,68,68,68,68,68,83,89,95,92,89,77,80,74,62,77,98,98,101,104,101,59]},
      {y:[86,86,89,95,101,116,89,98,98,89,89,98,98,116,89,86,89,92,98,113,116,74,68,62,71,59,56,71,62,83,80,83,65,65,77,80,77,74,71,68,65,65,68,56,50,50,53,56,56,59,62,53,59,56,62,77,83]},
      {w:[3,9,3,3,3,18,6,3,3,3,3,3,3,3,3,6,3,3,3,3,6,3,3,3,3,3,3,6,3,6,6,30,3,3,3,33,24,21,27,18,12,6,9,3,3,3,12,3,3,18,3,3,3,3,3,3,3]},
      {h:[3,27,24,24,15,3,24,18,12,18,27,21,15,3,30,33,24,21,9,6,3,12,12,6,6,6,9,3,12,3,3,3,15,9,6,3,3,3,3,3,3,3,3,12,9,6,3,9,3,3,3,3,3,9,15,3,3]}
      ]},
   {clothes:[
      {x:[83,86,92,56,53,50,47,62,68,80,50,83,95,89]},
      {y:[56,65,59,74,74,77,80,86,89,89,113,113,113,65]},
      {w:[9,3,3,6,3,3,3,27,6,6,18,3,6,3]},
      {h:[9,3,9,6,9,6,6,3,9,9,3,3,3,3]}
      ]},
   {skin:[
      {x:[59,59,95,59,77,98,59,62,53,80,50,86,65,62,56,50,89,92,95,98,101]},
      {y:[50,53,53,56,56,56,59,62,65,65,68,68,74,80,83,86,74,74,71,62,65]},
      {w:[30,18,3,15,3,3,3,15,6,3,9,3,3,3,3,3,3,3,3,3,3]},
      {h:[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,6,9,18,12]}
   ]}
]

/*               JUDO
*********************************************************/

var judo = [
   {contour:[
      {x:[41,44,47,50,53,56,59,62,89,92,95,92,101,98,95,92,98,107,104,101,95,68,89,86,86,83,80,62,77,62,50,50,53,47,44,44,68,71,74,68,65,62,50,65,92,62,50,59,74,86,41,44,65,62,47,86,83,83,104,68,71,74,80,83,86]},
      {y:[65,59,56,53,50,50,62,59,50,53,56,62,71,68,71,71,80,98,92,89,86,83,59,53,77,59,62,65,68,68,71,74,74,74,83,92,71,74,77,80,74,77,89,86,89,89,92,95,89,89,98,107,104,104,110,116,113,110,107,101,101,98,98,104,104]},
      {w:[3,3,3,3,3,3,3,15,3,3,3,3,3,3,3,3,3,3,3,3,6,30,3,3,3,3,3,18,3,6,15,3,3,3,3,3,3,3,3,15,3,3,3,27,3,6,15,33,6,6,3,3,3,3,18,24,27,24,3,3,21,3,6,3,3]},
      {h:[18,6,3,3,3,12,3,3,3,3,12,6,9,6,6,3,3,9,6,3,3,3,24,9,6,24,15,3,3,3,3,6,3,18,6,6,3,3,3,3,6,6,3,3,3,3,3,3,6,6,18,12,12,3,9,3,3,3,3,9,3,3,3,6,3]}
      ]},
   {clothes:[
      {x:[86,65,68,71,80,77,74,71,68,65,68,80,77,47,47,44,44,44,47,92,95,92,86,92,89,86]},
      {y:[62,71,74,77,77,71,68,68,68,92,89,89,98,92,95,98,101,104,107,86,89,92,98,101,104,107]},
      {w:[3,3,3,3,3,3,3,3,3,3,6,6,3,3,12,30,24,18,18,3,6,12,21,15,18,18]},
      {h:[15,3,6,3,3,9,9,6,3,3,6,6,3,3,3,3,3,3,3,3,3,6,3,3,3,3]}
      ]},
   {skin:[
      {x:[59,59,59,77,62,89,92,92,92,95,98,44,47,50,53,56,56,50,53,56,62,62,65,59]},
      {y:[50,53,59,59,62,53,56,68,74,77,74,65,59,56,53,62,65,80,77,74,74,83,80,65]},
      {w:[30,27,3,6,18,3,3,6,3,3,3,3,3,3,3,3,3,3,3,6,3,3,3,3]},
      {h:[3,6,3,3,3,6,6,3,9,6,6,18,15,15,18,9,6,9,15,18,3,6,6,6]}
   ]}
]

var r = 0;
var g = 0;
var b = 0;

var color = '#ff9160';

var char = document.getElementById('char');
var bg = char.getContext('2d');
bg.fillStyle = '#35877e';
bg.fillRect(0, 0, 150, 150);

/*  DRAW FACE IMAGE
=================================*/
var f = 0;
var face = char.getContext("2d");
var imageObj = new Image();
imageObj.onload = function() {
    face.drawImage(imageObj, 53, 26);
};
imageObj.src = './img/group0/face-' + f + '.png';

var fightingStyle = normal;
  //написать переменную стайл и присвоить ей значения normal boxing judo или kungFu в

var clothes = char.getContext('2d');
clothes.fillStyle = '#ffffff';
drawClothes(fightingStyle);



var contour = char.getContext('2d');
contour.fillStyle = '#0a0a0a';
drawContour(fightingStyle);
// заредактировать клип для группы
var skin = char.getContext('2d');
skin.fillStyle = color;
drawSkin(fightingStyle);

$("input[class=styles]").bind('click', function(){
    bg.fillStyle = '#35877e';
    bg.fillRect(0, 0, 150, 150);
    fightingStyle = $(this).val();
    if (fightingStyle === 'normal') {
        fightingStyle = normal;
    } else if (fightingStyle === 'boxing') {
        fightingStyle = boxing;
    } else if (fightingStyle === 'kungfu') {
        fightingStyle = kungFu;
    } else if (fightingStyle === 'judo') {
        fightingStyle = judo;
    }
    clothes.fillStyle = "rgb("+ r +", "+ g +", "+ b +")";
    drawClothes(fightingStyle);
    contour.fillStyle = '#0a0a0a';
    drawContour(fightingStyle);
    skin.fillStyle = '#ff9160';
    drawSkin(fightingStyle);
    face.drawImage(imageObj, 53, 26);

})

/*         DRAW FUNCTIONS
=======================================*/

function drawSkin(style) {
    for(i=0;i<style[2].skin[2].w.length;i++) {
    skin.fillRect(style[2].skin[0].x[i], style[2].skin[1].y[i], style[2].skin[2].w[i], style[2].skin[3].h[i]);
    
    }
}

function drawContour(style) {
    for(i=0;i<style[0].contour[2].w.length;i++) {
    contour.fillRect(style[0].contour[0].x[i], style[0].contour[1].y[i], style[0].contour[2].w[i], style[0].contour[3].h[i]);
    }
}

function drawClothes(style) {
    for(i=0;i<style[1].clothes[2].w.length;i++) {
        clothes.fillRect(style[1].clothes[0].x[i], style[1].clothes[1].y[i], style[1].clothes[2].w[i], style[1].clothes[3].h[i]);
    }
}



/*          CHANGE COLOR FUNCTIONS
************************************************/


function changeClothesColor() {
     r = $("#red").val();
     g = $("#green").val();
     b = $("#blue").val();
    
    clothes.fillStyle = "rgb("+ r +", "+ g +", "+ b +")";
    drawClothes(fightingStyle);
 
}
 
$("input[class=clc]").on('input', changeClothesColor);

function drawHead() {
    if ($(this).attr('alt') == f) {
        return;
    } else {
    f = $(this).attr('alt');
    face.clearRect(53,26,48,24);
    bg.fillStyle = '#35877e';
    bg.fillRect(0, 0, 150, 150);
    clothes.fillStyle = "rgb("+ r +", "+ g +", "+ b +")";
    drawClothes(fightingStyle);
    contour.fillStyle = '#0a0a0a';
    drawContour(fightingStyle);
    skin.fillStyle = '#ff9160';
    drawSkin(fightingStyle);
    imageObj.src = './img/group0/face-' + f + '.png';
    face.drawImage(imageObj, 53, 26);
} 
}

function appendHeads() {
  for(i=0;i<=412;i++) {
    let img = document.createElement('img');
    img.classList.add('head');
    img.src = 'img/group0/face-' + i + '.png'
    img.setAttribute('alt', i)
    
    img.onload = () => {
        img.addEventListener('click', drawHead)

        $('#heads').append(img);
    }
  }
}

appendHeads()
  
  